<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(240, 240, 240); color: rgb(68, 68, 68);"><span class="hljs-keyword" style="font-weight: 700;">int</span> n,m,q;
<span class="hljs-keyword" style="font-weight: 700;">int</span> a[<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>][<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>];
<span class="hljs-keyword" style="font-weight: 700;">int</span> dp[<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>][<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>][<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>][<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>], ones[<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>][<span class="hljs-number" style="color: rgb(136, 0, 0);">42</span>];
 
<span class="hljs-function"><span class="hljs-keyword" style="font-weight: 700;">int</span> <span class="hljs-title" style="color: rgb(136, 0, 0); font-weight: 700;">main</span><span class="hljs-params">()</span></span>{
	
	<span class="hljs-built_in" style="color: rgb(57, 115, 0);">std</span>::ios::sync_with_stdio(<span class="hljs-literal" style="color: rgb(120, 169, 96);">false</span>);
	<span class="hljs-built_in" style="color: rgb(57, 115, 0);">cin</span>.tie(<span class="hljs-number" style="color: rgb(136, 0, 0);">0</span>);
 
	<span class="hljs-built_in" style="color: rgb(57, 115, 0);">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; q;
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> i=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> j=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;j&lt;=m;j++){
			<span class="hljs-keyword" style="font-weight: 700;">char</span> c; <span class="hljs-built_in" style="color: rgb(57, 115, 0);">cin</span> &gt;&gt; c;
			a[i][j] = c-<span class="hljs-string" style="color: rgb(136, 0, 0);">'0'</span>;
		}
	}
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> i=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;i&lt;=n;i++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> j=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;j&lt;=m;j++){
			ones[i][j] = ones[i][j<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>] + ones[i<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][j] - ones[i<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][j<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>] + a[i][j];
		}
	}		
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;x1&lt;=n;x1++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x2=x1;x2&lt;=n;x2++){
			<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;y1&lt;=m;y1++){
				<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y2=y1;y2&lt;=m;y2++){
					dp[x1][x2][y1][y2] = (ones[x2][y2] - ones[x1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][y2] - ones[x2][y1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>] + ones[x1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][y1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>])==<span class="hljs-number" style="color: rgb(136, 0, 0);">0</span>; 
				}
			}
		}
	} 
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x1=n;x1&gt;=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;x1--){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x2=x1;x2&lt;=n;x2++){
			<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;y1&lt;=m;y1++){
				<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y2=y1;y2&lt;=m;y2++){
					dp[x1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][x2][y1][y2] += dp[x1][x2][y1][y2]; 
				}
			}
		}
	} <span class="hljs-comment" style="color: rgb(136, 136, 136);">// up </span>
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;x1&lt;=n;x1++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x2=x1;x2&lt;=n;x2++){
			<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;y1&lt;=m;y1++){
				<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y2=y1;y2&lt;=m;y2++){
					dp[x1][x2+<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>][y1][y2] += dp[x1][x2][y1][y2]; 
				}
			}
		}
	} <span class="hljs-comment" style="color: rgb(136, 136, 136);">// down</span>
	
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;x1&lt;=n;x1++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x2=x1;x2&lt;=n;x2++){
			<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y1=m;y1&gt;=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;y1--){
				<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y2=y1;y2&lt;=m;y2++){
					dp[x1][x2][y1<span class="hljs-number" style="color: rgb(136, 0, 0);">-1</span>][y2] += dp[x1][x2][y1][y2];
				}
			}
		}
	} <span class="hljs-comment" style="color: rgb(136, 136, 136);">// left</span>
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;x1&lt;=n;x1++){
		<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> x2=x1;x2&lt;=n;x2++){
			<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y1=<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>;y1&lt;=m;y1++){
				<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> y2=y1;y2&lt;=m;y2++){
					dp[x1][x2][y1][y2+<span class="hljs-number" style="color: rgb(136, 0, 0);">1</span>] += dp[x1][x2][y1][y2];
				}
			}
		}
	} <span class="hljs-comment" style="color: rgb(136, 136, 136);">// right</span>
 
	<span class="hljs-keyword" style="font-weight: 700;">for</span>(<span class="hljs-keyword" style="font-weight: 700;">int</span> qt=<span class="hljs-number" style="color: rgb(136, 0, 0);">0</span>;qt&lt;q;qt++){
		<span class="hljs-keyword" style="font-weight: 700;">int</span> a,b,c,d; <span class="hljs-built_in" style="color: rgb(57, 115, 0);">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;
		<span class="hljs-built_in" style="color: rgb(57, 115, 0);">cout</span> &lt;&lt; dp[a][c][b][d] &lt;&lt; <span class="hljs-built_in" style="color: rgb(57, 115, 0);">endl</span>;
	}
 
	<span class="hljs-keyword" style="font-weight: 700;">return</span> <span class="hljs-number" style="color: rgb(136, 0, 0);">0</span>;
}</pre>